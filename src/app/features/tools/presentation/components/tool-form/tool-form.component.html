<section class="p-4">
  <form [formGroup]="formTool" (ngSubmit)="onSubmit()">
    <!-- Información Básica -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold mb-4 text-surface-700 border-b pb-2">
        Información Básica
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Código -->
        <div>
          <label class="block text-sm font-medium mb-2 text-surface-600">
            Código *
          </label>
          <input
            class="w-full"
            formControlName="code"
            pInputText
            placeholder="Ej: HER-001"
            autocomplete="on"
            [invalid]="isFieldInvalid('code')"
          />
          @if(getFieldError('code')) {
          <small class="p-error block mt-1">{{ getFieldError('code') }}</small>
          }
        </div>

        <!-- Nombre -->
        <div>
          <label class="block text-sm font-medium mb-2 text-surface-600">
            Nombre *
          </label>
          <input
            class="w-full"
            formControlName="name"
            pInputText
            placeholder="Nombre de la herramienta"
            autocomplete="on"
            [invalid]="isFieldInvalid('name')"
          />
          @if(getFieldError('name')) {
          <small class="p-error block mt-1">{{ getFieldError('name') }}</small>
          }
        </div>

        <!-- Categoría -->
        <div>
          <label class="block text-sm font-medium mb-2 text-surface-600">
            Categoría *
          </label>
          <p-select
            formControlName="categoryId"
            [options]="categories"
            optionLabel="name"
            optionValue="uuid"
            placeholder="Seleccionar categoría"
            styleClass="w-full"
            [invalid]="isFieldInvalid('categoryId')"
            [showClear]="true"
          />
          @if(getFieldError('categoryId')) {
          <small class="p-error block mt-1">{{ getFieldError('categoryId') }}</small>
          }
        </div>
      </div>
    </div>

    <!-- Configuración -->
    <div class="mb-6">
      <h3 class="text-lg font-semibold mb-4 text-surface-700 border-b pb-2">
        Configuración
      </h3>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <!-- Taller -->
        <div>
          <label class="block text-sm font-medium mb-2 text-surface-600">
            Taller *
          </label>
          <p-select
            formControlName="garageId"
            [options]="garages"
            optionLabel="name"
            optionValue="uuid"
            placeholder="Seleccionar taller"
            styleClass="w-full"
            [invalid]="isFieldInvalid('garageId')"
            [showClear]="true"
          />
          @if(getFieldError('garageId')) {
          <small class="p-error block mt-1">{{ getFieldError('garageId') }}</small>
          }
        </div>

        <!-- Estatus -->
        <div>
          <label class="block text-sm font-medium mb-2 text-surface-600">
            Estatus *
          </label>
          <p-select
            formControlName="status"
            [options]="statusOptions"
            optionLabel="label"
            optionValue="value"
            placeholder="Seleccionar estatus"
            styleClass="w-full"
            [invalid]="isFieldInvalid('status')"
          />
          @if(getFieldError('status')) {
          <small class="p-error block mt-1">{{ getFieldError('status') }}</small>
          }
        </div>

        <!-- URL Imagen -->
        <div>
          <label class="block text-sm font-medium mb-2 text-surface-600">
            URL Imagen *
          </label>
          <input
            class="w-full"
            formControlName="image"
            pInputText
            placeholder="https://..."
            autocomplete="on"
            [invalid]="isFieldInvalid('image')"
          />
          @if(getFieldError('image')) {
          <small class="p-error block mt-1">{{ getFieldError('image') }}</small>
          }
        </div>
      </div>
    </div>

    <!-- Acciones -->
    <div class="flex justify-end gap-3 pt-4 border-t">
      <p-button
        label="Cancelar"
        severity="secondary"
        type="button"
        [outlined]="true"
        icon="pi pi-times"
        (onClick)="onReset()"
      />
      <p-button
        label="Guardar"
        severity="info"
        type="submit"
        icon="pi pi-save"
        [disabled]="!formTool.valid"
      />
    </div>
  </form>
</section>
